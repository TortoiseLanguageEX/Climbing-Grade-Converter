<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Climbing Grade Converter</title>
<style type="text/css">

body {
    font-family: 'Comic Sans MS', 'Comic Sans', cursive; 
    background-color: #f0f8ff; 
    padding: 10px;
    margin: 0;
    transition: background-color 0.5s;
    -webkit-font-smoothing: antialiased;
}

.container {
    max-width: 500px;
    margin: 20px auto;
    background-color: rgba(255, 255, 255, 0.8);
    padding: 20px;
    border-radius: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    box-sizing: border-box;
}

h1 {
    color: #4682b4;
    font-size: 22px;
    margin-bottom: 5px;
    text-align: center;
}

.mode-selector {
    display: flex;
    gap: 8px;
    margin: 20px 0;
    justify-content: center;
}

.mode-btn {
    flex: 1;
    padding: 12px 5px;
    border: 2px solid #4682b4;
    border-radius: 25px;
    background-color: white;
    color: #4682b4;
    cursor: pointer;
    font-weight: bold;
    font-family: 'Comic Sans MS', 'Comic Sans', cursive;
    transition: all 0.3s;
    outline: none;
    font-size: 14px;
}

/* Mode Styles */
body.mode-bouldering { background-color: #fdf5e6; }
body.mode-bouldering h1 { color: #ff6347; }
body.mode-bouldering .mode-btn { border-color: #ff6347; color: #ff6347; }
body.mode-bouldering .mode-btn.active { background-color: #ff6347; color: white; }
body.mode-bouldering select, body.mode-bouldering button#convertBtn { border-color: #ff6347; color: #ff6347; }
body.mode-bouldering button#convertBtn { background-color: #ff6347; color: white; }
body.mode-bouldering label { color: #ff6347; }

body.mode-lead { background-color: #f0f8ff; }
body.mode-lead h1 { color: #4682b4; }
body.mode-lead .mode-btn { border-color: #4682b4; color: #4682b4; }
body.mode-lead .mode-btn.active { background-color: #4682b4; color: white; }
body.mode-lead select, body.mode-lead button#convertBtn { border-color: #4682b4; color: #4682b4; }
body.mode-lead button#convertBtn { background-color: #4682b4; color: white; }
body.mode-lead label { color: #4682b4; }

label {
    display: block;
    margin-top: 15px;
    font-size: 15px;
    font-weight: bold;
}

select, button#convertBtn {
    width: 100%;
    padding: 12px;
    margin-top: 8px;
    border-radius: 10px;
    border: 2px solid;
    background-color: #ffffff;
    font-size: 16px;
    font-family: 'Comic Sans MS', 'Comic Sans', cursive; 
    box-sizing: border-box;
}

button#convertBtn {
    cursor: pointer;
    transition: opacity 0.3s;
    margin-top: 25px;
    font-weight: bold;
    font-size: 18px;
}

/* Result Section - Responsive Fix */
.result-container {
    display: flex;
    align-items: flex-start;
    margin-top: 30px;
    padding: 0;
    width: 100%;
}

.avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    margin-right: 12px;
    border: solid 2px #fff;
    flex-shrink: 0;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.result {
    position: relative;
    padding: 15px;
    border-radius: 15px;
    background: #ffffff;
    border: 2px solid #ddd;
    color: #333;
    line-height: 1.5;
    font-size: 15px;
    flex-grow: 1;
    word-break: break-word; 
    box-shadow: 2px 2px 10px rgba(0,0,0,0.05);
}

/* Speech Bubble Arrow */
.result::before {
    content: "";
    position: absolute;
    top: 15px;
    left: -10px;
    border-top: 7px solid transparent;
    border-bottom: 7px solid transparent;
    border-right: 10px solid #ffffff;
    z-index: 2;
}

.result::after {
    content: "";
    position: absolute;
    top: 14px;
    left: -13px;
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    border-right: 12px solid #ddd;
    z-index: 1;
}

.highlight {
    font-weight: bold;
    text-decoration: underline;
}

/* Mobile Specific Adjustments */
@media (max-width: 400px) {
    .container {
        padding: 15px;
    }
    h1 {
        font-size: 18px;
    }
    .result {
        font-size: 14px;
    }
    .avatar {
        width: 45px;
        height: 45px;
    }
}

</style>
</head>

<body class="mode-lead">
<div class="container">
    <h1 id="mainTitle">GRADE CONVERTER</h1>
    
    <div class="mode-selector">
        <button id="modeLead" class="mode-btn active" onclick="setMode('lead')">Lead Climbing</button>
        <button id="modeBouldering" class="mode-btn" onclick="setMode('bouldering')">Bouldering</button>
    </div>
    
    <label for="context">1. Select Standard:</label>
    <select id="context"></select>
    
    <label for="inputGrade">2. Your Grade:</label>
    <select id="inputGrade"></select>
    
    <button id="convertBtn">CONVERSION</button>
    
    <div id="resultContainer" class="result-container" style="display:none;">
        <img src="https://cdn.amebaowndme.com/madrid-prd/madrid-web/images/sites/499076/8ed7bbd61b78348fa635ba325a401c98_8e6ecd7366534889afd88c6472797869.png" alt="Avatar" class="avatar">
        <div id="result" class="result"></div>
    </div>
</div>

<script>
const allData = {
    bouldering: {
        systems: [
            { id: 'japan', label: 'Japan (kyÅ«/dan)' },
            { id: 'usa', label: 'USA (V-Grade)' },
            { id: 'french', label: 'French' }
        ],
        data: {
            japan: {
                "6ç´š(kyÅ«)":  { french: "3+ ~ 4",   usa: "V0- ~ V0" },
                "5ç´š(kyÅ«)":  { french: "4+ ~ 5",   usa: "V0+ ~ V1" },
                "4ç´š(kyÅ«)":  { french: "5+ ~ 6a",  usa: "V2 ~ V3" },
                "3ç´š(kyÅ«)":  { french: "6a+ ~ 6b", usa: "V3 ~ V4" },
                "2ç´š(kyÅ«)":  { french: "6b+ ~ 6c", usa: "V4 ~ V5" },
                "1ç´š(kyÅ«)":  { french: "6c+ ~ 7a", usa: "V5 ~ V6" },
                "åˆæ®µ(dan)": { french: "7a+ ~ 7b", usa: "V7" },
                "2æ®µ(dan)":  { french: "7b+ ~ 7c", usa: "V8 ~ V9" },
                "3æ®µ(dan)":  { french: "7c+ ~ 8a", usa: "V10 ~ V11" },
                "4æ®µ(dan)":  { french: "8a+ ~ 8b", usa: "V12 ~ V13" },
                "5æ®µ(dan)":  { french: "8b+ ~ 8c", usa: "V14 ~ V15" },
                "6æ®µ(dan)":  { french: "8c+ ~ 9a", usa: "V16 ~ V17" }
            },
            usa: {
                "V0-": { japan: "6ç´š", french: "3+" },
                "V0":  { japan: "6ç´š", french: "4" },
                "V0+": { japan: "5ç´š", french: "4+" },
                "V1":  { japan: "5ç´š", french: "5" },
                "V2":  { japan: "4ç´š", french: "5+" },
                "V3":  { japan: "4~3ç´š", french: "6a ~ 6a+" },
                "V4":  { japan: "3~2ç´š", french: "6b ~ 6b+" },
                "V5":  { japan: "2~1ç´š", french: "6c ~ 6c+" },
                "V6":  { japan: "1ç´š", french: "7a" },
                "V7":  { japan: "åˆæ®µ", french: "7a+" },
                "V8":  { japan: "åˆ~2æ®µ", french: "7b ~ 7b+" },
                "V9":  { japan: "2æ®µ", french: "7c" },
                "V10": { japan: "3æ®µ", french: "7c+" },
                "V11": { japan: "3æ®µ", french: "8a" },
                "V12": { japan: "4æ®µ", french: "8a+" },
                "V13": { japan: "4æ®µ", french: "8b" },
                "V14": { japan: "5æ®µ", french: "8b+" },
                "V15": { japan: "5æ®µ", french: "8c" },
                "V16": { japan: "6æ®µ", french: "8c+" },
                "V17": { japan: "6æ®µ", french: "9a" }
            },
            french: {
                "3+":  { japan: "6ç´š", usa: "V0-" },
                "4":   { japan: "6ç´š", usa: "V0" },
                "4+":  { japan: "5ç´š", usa: "V0+" },
                "5":   { japan: "5ç´š", usa: "V1" },
                "5+":  { japan: "4ç´š", usa: "V2" },
                "6a":  { japan: "4ç´š", usa: "V2~V3" },
                "6a+": { japan: "3ç´š", usa: "V3" },
                "6b":  { japan: "3ç´š", usa: "V3~V4" },
                "6b+": { japan: "2ç´š", usa: "V4" },
                "6c":  { japan: "2ç´š", usa: "V4~V5" },
                "6c+": { japan: "1ç´š", usa: "V5~V6" },
                "7a":  { japan: "1ç´š", usa: "V6" },
                "7a+": { japan: "åˆæ®µ", usa: "V7" },
                "7b":  { japan: "åˆæ®µ", usa: "V7~V8" },
                "7b+": { japan: "2æ®µ", usa: "V8~V9" },
                "7c":  { japan: "2æ®µ", usa: "V9" },
                "7c+": { japan: "3æ®µ", usa: "V10" },
                "8a":  { japan: "3æ®µ", usa: "V11" },
                "8a+": { japan: "4æ®µ", usa: "V12" },
                "8b":  { japan: "4æ®µ", usa: "V13" },
                "8b+": { japan: "5æ®µ", usa: "V14" },
                "8c":  { japan: "5æ®µ", usa: "V15" },
                "8c+": { japan: "6æ®µ", usa: "V16" },
                "9a":  { japan: "6æ®µ", usa: "V17" }
            }
        }
    },
    lead: {
        systems: [
            { id: 'french_lead', label: 'French' },
            { id: 'usa_lead', label: 'USA (YDS/Decimal)' },
            { id: 'uiaa', label: 'UIAA' }
        ],
        data: {
            french_lead: {
                "5a":  { usa: "5.6~5.7", uiaa: "V-~V" },
                "5b":  { usa: "5.7~5.8", uiaa: "V~V+" },
                "5c":  { usa: "5.8~5.9", uiaa: "V+~VI-" },
                "6a":  { usa: "5.9~5.10a", uiaa: "VI-~VI" },
                "6a+": { usa: "5.10a~5.10b", uiaa: "VI~VI+" },
                "6b":  { usa: "5.10b~5.10d", uiaa: "VI+~VII" },
                "6b+": { usa: "5.10d~5.11a", uiaa: "VII~VII+" },
                "6c":  { usa: "5.11a~5.11b", uiaa: "VII+" },
                "6c+": { usa: "5.11b~5.11c", uiaa: "VIII-" },
                "7a":  { usa: "5.11c~5.11d", uiaa: "VIII-~VIII" },
                "7a+": { usa: "5.11d~5.12a", uiaa: "VIII" },
                "7b":  { usa: "5.12a~5.12b", uiaa: "VIII~VIII+" },
                "7b+": { usa: "5.12b~5.12c", uiaa: "VIII+~IX-" },
                "7c":  { usa: "5.12c~5.12d", uiaa: "IX-~IX" },
                "7c+": { usa: "5.12d~5.13a", uiaa: "IX~IX+" },
                "8a":  { usa: "5.13b", uiaa: "IX+~X-" },
                "8a+": { usa: "5.13c", uiaa: "X-~X" },
                "8b":  { usa: "5.13d", uiaa: "X" },
                "8b+": { usa: "5.14a", uiaa: "X+" },
                "8c":  { usa: "5.14b", uiaa: "X+~XI-" },
                "8c+": { usa: "5.14c", uiaa: "XI-~XI" },
                "9a":  { usa: "5.14d", uiaa: "XI" },
                "9a+": { usa: "5.15a", uiaa: "XI~XI+" },
                "9b":  { usa: "5.15b", uiaa: "XI+~XII-" },
                "9b+": { usa: "5.15c", uiaa: "XII-~XII" },
                "9c":  { usa: "5.15d", uiaa: "XII~XII+" }
            },
            usa_lead: {
                "5.7":   { french: "5a~5b", uiaa: "V" },
                "5.8":   { french: "5b~5c", uiaa: "V+" },
                "5.9":   { french: "5c~6a", uiaa: "VI-" },
                "5.10a": { french: "6a~6a+", uiaa: "VI" },
                "5.10b": { french: "6a+~6b", uiaa: "VI+" },
                "5.10c": { french: "6b", uiaa: "VII-" },
                "5.10d": { french: "6b~6b+", uiaa: "VII" },
                "5.11a": { french: "6b+~6c", uiaa: "VII~VII+" },
                "5.12a": { french: "7a+~7b", uiaa: "VIII" },
                "5.13a": { french: "7c+", uiaa: "IX~IX+" },
                "5.14a": { french: "8b+", uiaa: "X+" },
                "5.15a": { french: "9a+", uiaa: "XI~XI+" }
            },
            uiaa: {
                "V":    { french: "5a~5b", usa: "5.7" },
                "VI":   { french: "6a~6a+", usa: "5.10a" },
                "VII":  { french: "6b~6b+", usa: "5.10d" },
                "VIII": { french: "7a+", usa: "5.11d~5.12a" },
                "IX":   { french: "7c~7c+", usa: "5.12d" },
                "X":    { french: "8a+~8b", usa: "5.13d" }
            }
        }
    }
};

let currentMode = 'lead';
const encouragementMessages = ["Courage! ğŸ’ªğŸ»", "Keep Pushing! ğŸ’ªğŸ»", "Allez! ğŸ’ªğŸ»", "Ganba! ğŸ’ªğŸ»", "Stay Strong! ğŸ’ªğŸ»"];

function setMode(mode) {
    currentMode = mode;
    document.body.className = (mode === 'lead') ? 'mode-lead' : 'mode-bouldering';
    document.getElementById('modeLead').classList.toggle('active', mode === 'lead');
    document.getElementById('modeBouldering').classList.toggle('active', mode === 'bouldering');
    
    const contextSelect = document.getElementById('context');
    const systems = allData[mode].systems;
    contextSelect.innerHTML = systems.map(s => `<option value="${s.id}">${s.label}</option>`).join('');
    
    updateGradeOptions();
}

function updateGradeOptions() {
    const contextSelect = document.getElementById('context');
    const gradeSelect = document.getElementById('inputGrade');
    const systemId = contextSelect.value;
    const grades = Object.keys(allData[currentMode].data[systemId]);
    
    if (systemId === 'french') {
        const order = ["3+", "4", "4+", "5", "5+"];
        grades.sort((a, b) => {
            const idxA = order.indexOf(a);
            const idxB = order.indexOf(b);
            if (idxA !== -1 && idxB !== -1) return idxA - idxB;
            if (idxA !== -1) return -1;
            if (idxB !== -1) return 1;
            return a.localeCompare(b);
        });
    }

    gradeSelect.innerHTML = grades.map(g => `<option value="${g}">${g}</option>`).join('');
    document.getElementById('resultContainer').style.display = 'none';
}

document.addEventListener('DOMContentLoaded', () => {
    const contextSelect = document.getElementById('context');
    const convertBtn = document.getElementById('convertBtn');
    
    contextSelect.addEventListener('change', updateGradeOptions);
    
    convertBtn.addEventListener('click', () => {
        const systemId = contextSelect.value;
        const gradeId = document.getElementById('inputGrade').value;
        const data = allData[currentMode].data[systemId][gradeId];
        const encouragement = encouragementMessages[Math.floor(Math.random() * encouragementMessages.length)];
        
        const accent = (currentMode === 'lead') ? '#4682b4' : '#ff6347';
        let resultHTML = `<span class="highlight" style="color:${accent}">${gradeId}</span> is approximately:<br>`;
        
        if (currentMode === 'bouldering') {
            if (systemId === 'japan') {
                resultHTML += `ğŸ‡ºğŸ‡¸ USA: <b>${data.usa}</b><br>ğŸ‡«ğŸ‡· French: <b>${data.french}</b>`;
            } else if (systemId === 'usa') {
                resultHTML += `ğŸ‡¯ğŸ‡µ Japan: <b>${data.japan}</b><br>ğŸ‡«ğŸ‡· French: <b>${data.french}</b>`;
            } else {
                resultHTML += `ğŸ‡¯ğŸ‡µ Japan: <b>${data.japan}</b><br>ğŸ‡ºğŸ‡¸ USA: <b>${data.usa}</b>`;
            }
        } else {
            if (systemId === 'french_lead') {
                resultHTML += `ğŸ‡ºğŸ‡¸ USA: <b>${data.usa}</b><br>â›°ï¸ UIAA: <b>${data.uiaa}</b>`;
            } else if (systemId === 'usa_lead') {
                resultHTML += `ğŸ‡«ğŸ‡· French: <b>${data.french}</b><br>â›°ï¸ UIAA: <b>${data.uiaa}</b>`;
            } else {
                resultHTML += `ğŸ‡«ğŸ‡· French: <b>${data.french}</b><br>ğŸ‡ºğŸ‡¸ USA: <b>${data.usa}</b>`;
            }
        }
        
        resultHTML += `<br><br><small>Â«${encouragement}Â»</small>`;
        document.getElementById('result').innerHTML = resultHTML;
        document.getElementById('resultContainer').style.display = 'flex';
    });

    setMode('lead');
});
</script>
</body>
</html>
